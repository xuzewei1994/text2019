<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
	/*
	async function fn(){

		const data1 = await 'data1'

		console.log('get data1=',data1)

		console.log('do something...')

		return 'result data'

	}
	fn()
	.then(data=>{
		console.log(data)
	})
	*/

	/*
	function fn(){
		const data1 = await 'data1'
	}
	*/

	//成功
	const promise = new Promise((resolve,reject)=>{
		setTimeout(()=>{
			resolve('success data')
		},200)
	})

	async function fn(){
		const data1 = await promise

		console.log('get data1=',data1)

		console.log('do something...')

		return 'result data'
	}
	fn()
	.then(data=>{
		console.log(data)
	})

	//失败
	const promise = new Promise((resolve,reject)=>{
		setTimeout(()=>{
			reject('success data')
		},200)
	})

	async function fn(){
		try{
			const data1 = await promise
			console.log('get data1=',data1)
			console.log('do something...')
		}catch(err){
			console.log('handle err',err)
		}

		return 'result data'
	}
	fn()
	.then(data=>{
		console.log(data)
	})
</script>
</html>